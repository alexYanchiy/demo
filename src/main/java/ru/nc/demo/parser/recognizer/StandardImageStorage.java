package ru.nc.demo.parser.recognizer;

/**
 * Эталоны цифер
 *
 * @author NiggerCat
 */
public class StandardImageStorage {
    private static final StandardImageStorage IMAGE_STORAGE = new StandardImageStorage();

    // Минимальный порог проходимости значения схожести цифр
    private static final float SIMILARITY_THRESHOLD = 0.9f;

    private StandardImageStorage() {
    }

    public static StandardImageStorage getInstance() {
        return IMAGE_STORAGE;
    }

    /**
     * Метод для распознавания символа
     *
     * @param image  общее изображение
     * @param startX координата X распознаваемой цифры
     * @param startY координата Y распознаваемой цифры
     * @return распознанная цифра, либо -1 в случае неудачи распознавания
     */
    public int recognizeSign(SimpleImage image, int startX, int startY) {
        float[] similarityArray = new float[IMAGE_ARRAY.length];
        for (int i = 0; i < IMAGE_ARRAY.length; i++) {
            similarityArray[i] = getSimilarityValue(image, startX, startY, IMAGE_ARRAY[i]);
        }

        int sign = getMaxValueIndex(similarityArray);
        if (sign != -1 && similarityArray[sign] >= SIMILARITY_THRESHOLD) {
            this.eraseRecognizedSign(image, startX, startY, IMAGE_ARRAY[sign]);
            return sign;
        }

        return -1;
    }

    /**
     * Метод для получения оценки схожести изображенной цифры с эталонной
     *
     * @param image         общее изображение
     * @param startX        координата X распознаваемой цифры
     * @param startY        координата Y распознаваемой цифры
     * @param standardNumber изображение эталона
     * @return оценка схожести изображенной цифры с эталонной
     */
    private float getSimilarityValue(SimpleImage image, int startX, int startY, SimpleImage standardNumber) {
        if (startX + standardNumber.getWidth() > image.getWidth()) {
            return 0.0f;
        }

        int generalPixelCount = 0;
        int similarPixelCount = 0;
        for (int yOnBigImage = startY, yOnSmallImage = 0; yOnSmallImage < standardNumber.getHeight(); yOnBigImage++, yOnSmallImage++) {
            for (int xOnBigImage = startX, xOnSmallImage = 0; xOnSmallImage < standardNumber.getWidth(); xOnBigImage++, xOnSmallImage++) {
                if (image.getValue(xOnBigImage, yOnBigImage) == standardNumber.getValue(xOnSmallImage, yOnSmallImage)) {
                    similarPixelCount++;
                }
                generalPixelCount++;
            }
        }

        return (float) similarPixelCount / generalPixelCount;
    }

    /**
     * Метод для зачистки распознанной цифры
     *
     * @param image         общее изображение
     * @param startX        координата X распознаваемой цифры
     * @param startY        координата Y распознаваемой цифры
     * @param standardNumber изображение эталона
     */
    private void eraseRecognizedSign(SimpleImage image, int startX, int startY, SimpleImage standardNumber) {
        for (int yOnBigImage = startY, yOnSmallImage = 0; yOnSmallImage < standardNumber.getHeight(); yOnBigImage++, yOnSmallImage++) {
            for (int xOnBigImage = startX, xOnSmallImage = 0; xOnSmallImage < standardNumber.getWidth(); xOnBigImage++, xOnSmallImage++) {
                if (standardNumber.getValue(xOnSmallImage, yOnSmallImage)) {
                    image.setValue(xOnBigImage, yOnBigImage, false);
                }
            }
        }
    }

    /**
     * Метод для поиска индекса максимального значения массива
     *
     * @param array массив значений
     * @return индекса максимального значения массива
     */
    private int getMaxValueIndex(float[] array) {
        float maxValue = 0;
        int maxValueIndex = -1;
        for (int i = 0; i < array.length; i++) {
            if (array[i] > maxValue) {
                maxValue = array[i];
                maxValueIndex = i;
            }
        }

        return maxValueIndex;
    }

    private static boolean[][] convertToBoolean(int[][] intArray) {
        boolean[][] booleanArray = new boolean[intArray.length][intArray[0].length];
        for (int i = 0; i < intArray.length; i++) {
            for (int j = 0; j < intArray[i].length; j++) {
                booleanArray[i][j] = intArray[i][j] == 0 ? false : true;
            }
        }
        return booleanArray;
    }

    /**
     * Цифра 0
     */
    private static final int[][] ZERO = {
            {0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0},
            {0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0},
            {1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1},
            {0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0}
    };

    /**
     * Цифра 1
     */
    private static final int[][] ONE = {
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,1,1,1,1,1},
            {0,0,0,0,0,1,1,1,1,1,1},
            {0,0,0,0,1,1,1,1,1,1,1},
            {0,0,0,1,1,1,1,1,1,1,1},
            {0,1,1,1,1,1,1,1,1,1,1},
            {1,1,1,1,1,1,1,1,1,1,1},
            {1,1,1,1,1,1,0,1,1,1,1},
            {1,1,1,1,1,0,0,1,1,1,1},
            {1,1,1,0,0,0,0,1,1,1,1},
            {1,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1},
            {0,0,0,0,0,0,0,1,1,1,1}
    };

    /**
     * Цифра 2
     */
    private static final int[][] TWO = {
            {0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0},
            {0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {0,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1},
            {0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0},
            {0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0},
            {0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0},
            {0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},
            {0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0},
            {0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0},
            {0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0},
            {0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
    };

    /**
     * Цифра 3
     */
    private static final int[][] THREE = {
            {0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0},
            {1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,0,0},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0},
            {0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0},
            {0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1},
            {1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0}
    };

    /**
     * Цифра 4
     */
    private static final int[][] FOUR = {
            {0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,1,1,1,1,1,1,0,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0},
            {0,0,0,0,1,1,1,1,1,1,0,0,0,1,1,1,1,0,0,0,0},
            {0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0},
            {0,0,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0},
            {0,0,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0},
            {0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0},
            {1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0},
            {1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0},
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0}
    };

    /**
     * Цифра 5
     */
    private static final int[][] FIVE = {
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0},
            {0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0},
            {0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0},
            {0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0},
            {0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0},
            {0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1},
            {0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1},
            {1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0},
    };

    /**
     * Цифра 6
     */
    private static final int[][] SIX = {
            {0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0},
            {0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0},
            {1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
            {1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0},
            {1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1},
            {1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1},
            {0,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0}
    };

    /**
     * Цифра 7
     */
    private static final int[][] SEVEN = {
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0},
            {0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0},
            {0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0},
            {0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0},
            {0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0},
            {0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0},
            {0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0},
            {0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0},
            {0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0},
            {0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0},
            {0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0}
    };

    /**
     * Цифра 8
     */
    private static final int[][] EIGHT = {
            {0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0},
            {0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0},
            {0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0},
            {0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0}
    };

    /**
     * Цифра 9
     */
    private static final int[][] NINE = {
            {0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
            {1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0},
            {1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1},
            {1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1},
            {0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1},
            {0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0},
            {0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0},
            {0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
            {0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0},
            {0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0}
    };

    /**
     * Массив эталонных цифр
     */
    private static final SimpleImage[] IMAGE_ARRAY = {
            new SimpleImage(convertToBoolean(ZERO)),
            new SimpleImage(convertToBoolean(ONE)),
            new SimpleImage(convertToBoolean(TWO)),
            new SimpleImage(convertToBoolean(THREE)),
            new SimpleImage(convertToBoolean(FOUR)),
            new SimpleImage(convertToBoolean(FIVE)),
            new SimpleImage(convertToBoolean(SIX)),
            new SimpleImage(convertToBoolean(SEVEN)),
            new SimpleImage(convertToBoolean(EIGHT)),
            new SimpleImage(convertToBoolean(NINE))
    };

}
